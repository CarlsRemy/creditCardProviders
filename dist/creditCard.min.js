const{cardDetails:cardDetails,Providers:Providers}=require("./providers.js");function validateCardByProvider(e,r){if(r=r?.replace(/\D/g,""),!Object.keys(Providers).includes(e))throw new Error("El Provider debe ser uno de los siguientes: visa, mastercard, amex, discover, dinnerclub");return!((r?.length??0)<12)&&cardDetails[e]?.pattern.test(r)}function detectCardType(e){if(e=e?.replace(/\D/g,""),(e?.length??0)<1)return"unknown";for(let r in cardDetails)if(cardDetails[r].pattern2.test(e))return r;return"unknown"}function getCardType(e){if(e=e?.replace(/\D/g,""),(e?.length??0)<12)return"unknown";for(const r in cardDetails)if(cardDetails[r].pattern.test(e))return r;return"unknown"}function getCardInfo(e,r=!0){e=e?.replace(/\D/g,"");const t=getCardType(e);return"unknown"===t?{type:"unknown",validLengths:[],pinLength:null,luhnCheck:!1}:{type:t,validLengths:cardDetails[t].length,pinLength:cardDetails[t].pinLength,luhnCheck:!!r&&validCheckDigit(e)}}function validCheckDigit(e){if(e=e?.replace(/\D/g,""),(e?.length??0)<12)return!1;let r=0,t=!1;for(let n=e.length-1;n>=0;n--){let a=parseInt(e.charAt(n),10);t&&(a*=2,a>9&&(a-=9)),r+=a,t=!t}return r%10==0}
/**
 * @module creditcardproviders
 * @fileoverview Librería creditcardproviders - librería de JS diseñada para identificar el proveedor o tipo de tarjeta de crédito basándose en el número de la tarjeta.
 * @description Esta librería es ideal para desarrolladores que necesitan simular transacciones, validar sistemas de pago, o realizar pruebas de integración, CardTestLib simplifica la generación de números de tarjetas de crédito conformes al algoritmo de Luhn.
 * @author Carlos I. Ynfante R. <https://github.com/CarlsRemy>
 * @license MIT
 * @copyright Carlos I. Ynfante R.
 * @version 0.0.2
*/exports.validateCardByProvider=validateCardByProvider,exports.detectCardType=detectCardType,exports.getCardType=getCardType,exports.getCardInfo=getCardInfo,exports.validCheckDigit=validCheckDigit,exports.Providers=Providers,module.exports={validateCardByProvider:validateCardByProvider,detectCardType:detectCardType,getCardInfo:getCardInfo,getCardType:getCardType,validCheckDigit:validCheckDigit,Providers:Providers};